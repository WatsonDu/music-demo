"use strict";var APP_ID="oysuL2dORvTNIna81kWEojQM-gzGzoHsz",APP_KEY="RuAWNvvWTsPo21IHHUViSmgV";AV.init({appId:APP_ID,appKey:APP_KEY});var $olSongs=$("ol#songs"),query=new AV.Query("Song");query.find().then(function(n){for(var i=0;i<n.length;i++){var e=n[i].attributes,s='\n        <li>\n        <a href="./song.html?id='+n[i].id+'">\n        <h3>'+e.name+'</h3>\n            <P><i class="#icon-sq"></i>'+e.singer+'</P>\n            <div class="playButton"></div>\n        </a>\n        </li>';$olSongs.append(s)}});var $olhotSongs=$("ol#hotsongs");(query=new AV.Query("Song")).find().then(function(n){for(var i=0;i<n.length;i++){var e=n[i].attributes;if(i<9){var s='\n           <li>\n           <a href="./song.html?id='+n[i].id+'">\n           <div class="bangdan">\n           <div class="number">0'+(i+1)+'</div>\n           <div class="geming"><h3>'+e.name+'<small></small></h3>\n           <p><i class="#icon-sq"></i>'+e.singer+'</p>\n           </div>\n            <div class="action">\n            <div class="playButton"></div>\n           </div>\n           </div>\n            </a>\n           </li>';$olhotSongs.append(s)}else{var a='\n           <li>\n           <a href="./song.html?id='+n[i].id+'">\n           <div class="bangdan">\n           <div class="number">'+(i+1)+'</div>\n           <div class="geming"><h3>'+e.name+'<small></small></h3>\n           <p><i class="#icon-sq"></i>'+e.singer+'</p>\n           </div>\n            <div class="action">\n            <div class="playButton"></div>\n           </div>\n           </div>\n            </a>\n           </li>';$olhotSongs.append(a)}}});var close=function(){$("#search").val(""),$(".close").removeClass("active"),$("#searchResult").empty(),$(".default").show(),$(".holder").removeClass("active"),$(".search-content").hide(),$(".hotlist").removeClass("active")};$(".close").on("click",function(){return close()});var timer=null;$("input#search").on("input",function(n){timer&&clearTimeout(timer),timer=setTimeout(function(){timer=null;var i=$(n.currentTarget).val().trim();if(""===i)return close();var e=new AV.Query("Song");e.contains("name",i);var s=new AV.Query("Song");s.contains("singer",i),AV.Query.or(s,e).find().then(function(n){if($("#searchResult").empty(),$(".close").addClass("active"),$(".hotlist").addClass("active"),$(".holder").addClass("active"),$(".search-content").html('<h3>搜索"'+i+'"</h3>').show(),0===n.length)$("#searchResult").html("<h3>搜索不到</h3>");else{for(var e=0;e<n.length;e++){var s=n[e].attributes,a='\n                <li data-id="'+n[e].id+'">\n                <i class="tubiao"></i>\n                <a href="./song.html?id='+n[e].id+'">'+s.name+" - "+s.singer+"</a>\n        </li>\n        ";$("#searchResult").append(a)}if(""===i)return close()}})},500)});